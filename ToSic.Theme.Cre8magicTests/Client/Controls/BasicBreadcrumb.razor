@namespace ToSic.Theme.Cre8magicTests
@using ToSic.Cre8magic.Breadcrumb.Settings
@using ToSic.Cre8magic.Pages
@using ToSic.Theme.Cre8magicTests.Client
@inherits ThemeControlBase;
@inject IMagicPageService PageSvc

@code {
    /// <summary>
    /// Settings for retrieving the breadcrumbs; optional
    /// </summary>
    [Parameter]
    public MagicBreadcrumbSettings Settings { get; set; }
}
@{
    var breadcrumb = PageSvc.Setup(PageState).GetBreadcrumb(Settings != null
        ? Settings.Designer != null ? Settings : Settings with { Designer = new BasicBreadcrumbDesigner() }
        : new() { Designer = new BasicBreadcrumbDesigner() }
    );
}
<nav aria-label="breadcrumb">
    <ol class='@breadcrumb.Classes("ol")'>
        @foreach (var item in breadcrumb)
        {
            <li class='@item.Classes("li")'>
                @if (item.IsCurrent)
                {
                    <span class='@item.Classes("span")' aria-current="page">@item.Name</span>
                } else
                {
                    <a href="@item.Link" class='@item.Classes("a")'>@item.Name</a>
                }
            </li>
        }
    </ol>
</nav>
