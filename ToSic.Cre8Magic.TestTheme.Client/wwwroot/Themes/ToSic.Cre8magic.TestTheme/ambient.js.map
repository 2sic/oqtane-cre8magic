{"version":3,"file":"ambient.js","mappings":"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","sources":["webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/background.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/breadcrumbs.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/gtm.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/mail-encrypt.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/menu.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/pdf-in-new-window.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/to-top.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/shared/constants.ts","webpack://2sic-cre8magic-test-theme/webpack/bootstrap","webpack://2sic-cre8magic-test-theme/webpack/startup"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst mail_encrypt_1 = require(\"./mail-encrypt\");\r\nconst menu_1 = require(\"./menu\");\r\nconst breadcrumbs_1 = require(\"./breadcrumbs\");\r\nconst pdf_in_new_window_1 = require(\"./pdf-in-new-window\");\r\nconst to_top_1 = require(\"./to-top\");\r\nconst gtm_1 = require(\"./gtm\");\r\n(0, to_top_1.initToTop)();\r\n(0, pdf_in_new_window_1.openPdfInNewWindow)();\r\n(0, mail_encrypt_1.initMailDecrypt)();\r\n(0, breadcrumbs_1.initBreadcrumb)();\r\n(0, menu_1.initOffCanvasEvents)();\r\n(0, gtm_1.buildCre8magicGtm)();\r\nwindow.cre8magic.gtm.activate('GTM-T8W5TBL');\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initBreadcrumb = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nfunction initBreadcrumb() {\r\n    if (constants_1.debug)\r\n        console.log(\"init breadcrumbs\");\r\n    setBreadcrumbsStyling();\r\n    window.addEventListener(\"resize\", setBreadcrumbsStyling);\r\n    document.addEventListener('scroll', setBreadcrumbsStyling);\r\n    var breadCrumbTrigger = document.querySelector(`.${constants_1.prefixBreadcrumbs}-trigger`);\r\n    if (breadCrumbTrigger != null) {\r\n        breadCrumbTrigger.addEventListener('click', () => {\r\n            const selected = document.querySelector(`.${constants_1.prefixBreadcrumbs}`);\r\n            if (constants_1.debug)\r\n                console.log(selected);\r\n            selected === null || selected === void 0 ? void 0 : selected.classList.toggle(`${constants_1.prefixBreadcrumbs}-open`);\r\n        });\r\n    }\r\n}\r\nexports.initBreadcrumb = initBreadcrumb;\r\nfunction setBreadcrumbsStyling() {\r\n    console.log(\"test 2dm 2024-11-25b\");\r\n    var header = document.getElementById(`${constants_1.prefix}-page-navigation`);\r\n    if (header != null) {\r\n        var headerHeight = header.offsetHeight;\r\n        var breadcrumb = document.querySelector(`.${constants_1.prefixBreadcrumbs}`);\r\n        if (!breadcrumb)\r\n            return;\r\n        breadcrumb.style.top = headerHeight + \"px\";\r\n        var breadcrumbOffsetTop = breadcrumb.getBoundingClientRect().top;\r\n        if (breadcrumbOffsetTop <= headerHeight && scrollY != 0) {\r\n            breadcrumb.classList.add(\"bg-light\", \"shadow\");\r\n        }\r\n        else {\r\n            breadcrumb.classList.remove(\"bg-light\", \"shadow\");\r\n        }\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.buildCre8magicGtm = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\n// Temporary solution to add GTM, not final!\r\nconst debugGtm = constants_1.debug || true;\r\nfunction activateGtm(gtmKey) {\r\n    if (debugGtm)\r\n        console.log('2dm test activate GTM');\r\n    // <!-- Google Tag Manager -->\r\n    // <script>\r\n    (function (w, d, s, l, i) {\r\n        w[l] = w[l] || [];\r\n        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\r\n        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';\r\n        j.async = true;\r\n        j.src =\r\n            'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\r\n        f.parentNode.insertBefore(j, f);\r\n    })(window, document, 'script', 'dataLayer', gtmKey);\r\n    // </script>\r\n    // <!-- End Google Tag Manager -->\r\n}\r\nclass GtmInterop {\r\n    constructor() {\r\n        this.activate = activateGtm;\r\n    }\r\n    pageView() {\r\n        if (debugGtm)\r\n            console.log('gtm-interop - track page view');\r\n        gtag('event', 'blazor_page_view'); //\r\n    }\r\n}\r\nwindow.dataLayer = window.dataLayer || [];\r\nfunction gtag(target, more) {\r\n    if (constants_1.debug)\r\n        console.log('gtm - gtag');\r\n    window.dataLayer.push(arguments);\r\n}\r\nfunction buildCre8magicGtm() {\r\n    window.cre8magic = window.cre8magic || {};\r\n    window.cre8magic.gtm = window.cre8magic.gtm || new GtmInterop();\r\n    window.gtag = window.gtag || gtag;\r\n}\r\nexports.buildCre8magicGtm = buildCre8magicGtm;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initMailDecrypt = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nfunction initMailDecrypt() {\r\n    if (constants_1.debug)\r\n        console.log('initMailDecrypt');\r\n    /* mailencrypting */\r\n    setTimeout(function () {\r\n        let mailElement = document.querySelectorAll('[data-madr1]:not(.madr-done)');\r\n        mailElement.forEach((mail, index) => {\r\n            const maddr = mail.getAttribute('data-madr1') + '@' + mail.getAttribute('data-madr2') + '.' + mail.getAttribute('data-madr3');\r\n            const linktext = mail.getAttribute('data-linktext') ? mail.getAttribute('data-linktext') : maddr;\r\n            const a = document.createElement('a');\r\n            a.setAttribute('href', `mailto:${maddr}`);\r\n            a.innerHTML = linktext;\r\n            if (mail.parentElement)\r\n                mail.parentElement.appendChild(a);\r\n            mail.classList.add('madr-done');\r\n            mail.style.display = 'none';\r\n        });\r\n    }, 500);\r\n}\r\nexports.initMailDecrypt = initMailDecrypt;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initOffCanvasEvents = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\n// Takes care of closing the offcanvas when clicking on a navigation link\r\n// The page is not reloaded, so the offcanvas does not close\r\nfunction initOffCanvasEvents() {\r\n    if (constants_1.debug)\r\n        console.log('initOffCanvasEvents');\r\n    //Offcanvas close on link click\r\n    var navLinks = document.querySelectorAll(\".mobile-navigation-link\");\r\n    var navOffcanvas = document.getElementById('offcanvasNavbar');\r\n    if (navOffcanvas) {\r\n        var bsNavOffcanvas = new bootstrap.Offcanvas(navOffcanvas);\r\n        navLinks.forEach(element => {\r\n            element.addEventListener('click', () => {\r\n                bsNavOffcanvas.hide();\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.initOffCanvasEvents = initOffCanvasEvents;\r\n","\"use strict\";\r\n// TODO: THIS PROBABLY doesn't work reliably, as it would need to be called again when the page changes\r\n// will probably need to be moved to the interop and called on every reload\r\n// or use a timeout similar to mail-decrypt\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.openPdfInNewWindow = void 0;\r\n/* Open all PDF links in a new window */\r\nfunction openPdfInNewWindow() {\r\n    document.querySelectorAll('a').forEach((linkElem, index) => {\r\n        var _a;\r\n        if (linkElem.hasAttribute('href') && ((_a = linkElem.getAttribute('href')) === null || _a === void 0 ? void 0 : _a.endsWith('.pdf')))\r\n            linkElem.setAttribute('target', '_blank');\r\n    });\r\n}\r\nexports.openPdfInNewWindow = openPdfInNewWindow;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initToTop = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nconst toTopElementId = `${constants_1.prefix}-to-top`;\r\nconst visibleClass = `visible`;\r\nfunction initToTop() {\r\n    console.log('init to top');\r\n    toTopShowHideOnScroll();\r\n}\r\nexports.initToTop = initToTop;\r\nfunction toTopShowHideOnScroll() {\r\n    if (constants_1.debug)\r\n        console.log('toTopShowHideOnScroll');\r\n    document.addEventListener(\"scroll\", toTopButtonVisibility);\r\n}\r\nfunction toTopButtonVisibility() {\r\n    var toTopButton = document.getElementById(toTopElementId);\r\n    if (!toTopButton)\r\n        return;\r\n    // Ensure it has the event listener\r\n    toTopButton.addEventListener(\"click\", scrollTop);\r\n    // Todo: unsure why it does body + documentElement...\r\n    const show = document.body.scrollTop > 200 || document.documentElement.scrollTop > 200;\r\n    if (constants_1.debugDetailed)\r\n        console.log('to-top' + show ? \"show\" : \"hide\");\r\n    toTopButton.classList.toggle(visibleClass, show);\r\n}\r\nfunction scrollTop() {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.prefixLanguages = exports.prefixBreadcrumbs = exports.prefix = exports.debugDetailed = exports.debug = void 0;\r\nexports.debug = true;\r\nexports.debugDetailed = exports.debug && false;\r\nexports.prefix = 'theme';\r\nexports.prefixBreadcrumbs = `${exports.prefix}-breadcrumbs`;\r\nexports.prefixLanguages = `${exports.prefix}-languages`;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n__webpack_require__(565);\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(693);\n__webpack_require__(227);\n__webpack_require__(77);\n__webpack_require__(231);\n__webpack_require__(758);\nvar __webpack_exports__ = __webpack_require__(657);\n"],"names":["mail_encrypt_1","menu_1","breadcrumbs_1","pdf_in_new_window_1","to_top_1","gtm_1","initToTop","openPdfInNewWindow","initMailDecrypt","initBreadcrumb","initOffCanvasEvents","buildCre8magicGtm","window","cre8magic","gtm","activate","Object","defineProperty","exports","value","constants_1","setBreadcrumbsStyling","console","log","header","document","getElementById","prefix","headerHeight","offsetHeight","breadcrumb","querySelector","prefixBreadcrumbs","style","top","getBoundingClientRect","scrollY","classList","add","remove","debug","addEventListener","breadCrumbTrigger","selected","toggle","debugGtm","activateGtm","gtmKey","w","d","s","l","i","push","Date","getTime","event","f","getElementsByTagName","j","createElement","async","src","parentNode","insertBefore","GtmInterop","constructor","this","pageView","gtag","target","more","dataLayer","arguments","setTimeout","querySelectorAll","forEach","mail","index","maddr","getAttribute","linktext","a","setAttribute","innerHTML","parentElement","appendChild","display","navLinks","navOffcanvas","bsNavOffcanvas","bootstrap","Offcanvas","element","hide","linkElem","_a","hasAttribute","endsWith","toTopElementId","toTopButtonVisibility","toTopButton","scrollTop","show","body","documentElement","debugDetailed","scrollTo","behavior","prefixLanguages","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__"],"sourceRoot":""}