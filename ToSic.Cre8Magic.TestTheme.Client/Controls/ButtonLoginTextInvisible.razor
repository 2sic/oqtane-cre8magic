@using Microsoft.Extensions.Localization
@using Oqtane
@inject IMagicHat MagicHat
@*
File Purpose:       Show the Login/Logout text buttons
Recommendations:    -
Nice to know:       Inherits the LoginBase, which contains ChangeLogin and i18n for the label
See also:           LoginIcon.razor has the same feature but with icons
*@
@code
{
    [Inject]
    private IStringLocalizer<SharedResources> Localizer { get; set; }

    /// <inheritdoc cref="ComponentDocs.PageState"/>
    [CascadingParameter]
    public required PageState PageState { get; set; }
}
@{
    var loginKit = MagicHat.LoginKit(PageState);

    var linkTitle = Localizer[loginKit.User.IsAuthenticated ? "Logout" : "Login"];
}
<a Title="@linkTitle" class="@loginKit.Designer.Classes("linkLogin-invisible")" @onclick="loginKit.ToggleLogin">@linkTitle</a>
